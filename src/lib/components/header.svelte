<script lang="ts">
	import { goto } from '$app/navigation';
	import LangSelector from './lang-selector.svelte';

	export let languages: string[];
	export let lang: string;

	const handleLangChange = (event: CustomEvent<string>) => {
		localStorage.setItem('lang', event.detail);

		goto(`/${event.detail}`);
	};
</script>

<header class="mx-auto flex max-w-7xl items-start justify-between p-6 md:px-12 md:pt-10">
	<a
		href="/"
		class="h-12 w-12 origin-top-left overflow-hidden rounded-full text-secondary transition-colors duration-300 hover:text-secondary/60 focus:text-secondary/60"
	>
		<svg viewBox="0 0 348 348" xmlns="http://www.w3.org/2000/svg">
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M162.98.33c-1.12.13-4.9.53-8.41.87-29.07 2.9-60.2 15.13-84.03 33C24.13 69-1.63 122.22.2 179.5a172.57 172.57 0 0 0 50.84 117.45c26.74 26.74 60.4 43.6 98.6 49.4 11.3 1.71 35.96 1.87 46.69.28 31.52-4.63 58.43-15.66 82.29-33.7 36.96-27.96 60.56-67.88 67.73-114.58 1.1-7.16 1.29-10.77 1.29-24.36 0-18.02-.87-25.8-4.61-41.05C325.79 62.6 267.84 10.82 195.75 1.4 189.57.6 167.1-.14 162.98.33Zm27.01 22.34c65.64 6.5 120.42 56.54 133.29 121.75 4.56 23.16 3.4 49.68-3.16 72.3-5.32 18.36-15.67 38.04-28.12 53.47-12.21 15.13-29.85 29.52-47.42 38.68-22.8 11.9-41.94 16.11-73.19 16.14-15.2.01-21.31-.67-30.72-3.4-29.64-8.63-33.8-34.05-14.84-90.77 4.48-13.41 7.53-21.73 22.52-61.48 14.47-38.37 22.04-62.64 25.5-81.78.56-3.11 1.83-3.87 10.16-6.1 14-3.75 24.9-1.95 31.7 5.23 5.95 6.3 9.15 16.75 7.63 24.96-.78 4.26-3.96 11.1-7.15 15.35-4.5 6.05-12.16 13.38-18 17.26-6.12 4.06-8 6.06-9.39 9.97-2.16 6.1-.55 11.24 6.07 19.49 4.61 5.75 4.63 5.77 3.34 6.64-11.25 7.6-23.02 20-33.62 35.38-8.53 12.39-14.33 27.8-15.3 40.62-.46 6.06.8 13.08 3.26 18.26 2.08 4.38 7.03 9.87 11.1 12.3 10.9 6.55 29.72 5.2 43.43-3.08 9.38-5.67 17.94-14.42 23.85-24.4 8.86-14.95 11.68-33.66 7.47-49.6-.64-2.45-2.74-8.17-4.66-12.7-1.2-2.8-2.37-5.61-3.48-8.44 0-.11 1.24-.83 2.75-1.6 3.68-1.85 9.31-3.47 18.34-5.25 8.03-1.58 10.5-2.7 12.16-5.53 1.56-2.64 1.41-8.1-.3-11.51-2.67-5.32-6.21-6.22-16.44-4.2-10.05 2-16.99 4.01-22.25 6.46a130.54 130.54 0 0 1-5 2.27c-.08 0-1.67-1.86-3.53-4.13l-3.38-4.13 2.3-1.76c5.32-4.07 16.93-16.5 20.73-22.22 11.77-17.68 13.04-35.25 3.92-53.89-6.71-13.7-17.5-21.77-32.95-24.7-5.11-.97-19.44-.36-25.14 1.06l-4.4 1.11-.39-7.66c-.47-9.4-1.41-12.88-4.12-15.26-2.34-2.05-5.01-2.7-8.85-2.12-4.32.65-7.03 2.32-8.28 5.11-.98 2.2-1.06 3.51-.76 14.03.4 14.02.18 15.18-3.33 17.04-12.68 6.75-25.43 14.92-33.89 21.72-9.37 7.53-19.99 19.83-22.68 26.26-1.16 2.77-1.01 6.57.33 8.77 1.88 3.07 7.37 5.97 11.33 5.97 2.85 0 5.49-2.18 9.05-7.46 3.83-5.66 9.97-12.06 16.47-17.16 6.27-4.92 16.78-11.95 17-11.36.41 1.17-5.42 20.2-11.21 36.53-4.52 12.74-6.47 18-19.59 52.81-17.61 46.78-23.83 68.9-25.27 89.9-.5 7.51.01 18.76 1.06 22.5.32 1.19.6 2.48.6 2.89 0 .91-4.78-2.07-11.89-7.44C48.86 270.3 26.77 231.33 22.67 190c-.8-8.12-.8-23.86 0-31.98 6-60.61 49.73-113 108.61-130.14 7.16-2.09 19.22-4.5 25.9-5.18 7.23-.73 25.52-.74 32.81-.02Zm23.67 182.85a90.63 90.63 0 0 1 3.52 9.57c3.89 15.16-.95 31.53-12.79 43.28-7.08 7.03-11.97 9.64-20.26 10.79-4.4.61-8.27.07-10.08-1.4-1.62-1.32-2.92-5.27-2.94-8.86-.05-13.12 10.13-32.25 26.15-49.16 5.71-6.04 12.62-11.71 13.32-10.96.23.25 1.62 3.28 3.08 6.74Z"
				fill="currentcolor"
			/>
		</svg>
	</a>
	<LangSelector options={languages} defaultOption={lang} on:change={handleLangChange} />
</header>
